{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sandy\\\\Documents\\\\BrainStation - Web Development\\\\Sandy-Nguyen-BrainFlix\\\\Sandy-Nguyen-sprint-three\\\\client\\\\src\\\\components\\\\MainVideoPage\\\\MainVideoPage.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport uuid from \"uuid\";\nimport Header from '../Header/Header';\nimport HeroVideo from '../HeroVideo/HeroVideo';\nimport HeroVideoDetails from '../HeroVideoDetails/HeroVideoDetails';\nimport CommentsSection from '../CommentsSection/CommentsSection';\nimport NextVideoQueue from '../NextVideoQueue/NextVideoQueue';\nimport UploadImage from \"../../assets/images/Upload-video-preview.jpg\";\n\nclass MainVideoPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      heroVideoDetails: [],\n      nextVideoList: []\n    };\n\n    this.updateHero = id => {\n      axios.get(`/videos/${id}`).then(res => {\n        window.scrollTo(0, 0);\n        let commentsForm = document.querySelector('.comments-section__form');\n        commentsForm.reset();\n        this.setState({\n          heroVideoDetails: [res.data]\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.uploadVideo = e => {\n      e.preventDefault();\n      let time = new Date().getTime();\n      let generatedId = `${uuid.v4()}`;\n      let newNextVideo = {\n        id: generatedId,\n        title: e.target.title.value,\n        channel: 'Some New Channel',\n        image: UploadImage\n      };\n      let newVideo = {\n        id: generatedId,\n        title: e.target.title.value,\n        channel: 'Some New Channel',\n        image: UploadImage,\n        description: e.target.description.value,\n        views: 0,\n        likes: 0,\n        duration: \"3:45\",\n        video: '../../assets/video/BrainStation Sample Video.mp4',\n        timestamp: time,\n        comments: [{\n          \"name\": \"Micheal Lyons\",\n          \"comment\": \"They BLEW the ROOF off at their last show, once everyone started figuring out they were going. This is still simply the greatest opening of acconcert I have EVER witnessed.\",\n          \"id\": \"1ab6d9f6-da38-456e-9b09-ab0acd9ce818\",\n          \"likes\": 0,\n          \"timestamp\": 1545162149000\n        }, {\n          \"name\": \"Gary Wong\",\n          \"comment\": \"Every time I see him shred I feel so motivated to get off my couch and hop on my board. He’s so talented! I wish I can ride like him one day so I can really enjoy myself!\",\n          \"id\": \"cc6f173d-9e9d-4501-918d-bc11f15a8e14\",\n          \"likes\": 0,\n          \"timestamp\": 1544595784046\n        }, {\n          \"name\": \"Theodore Duncan\",\n          \"comment\": \"How can someone be so good!!! You can tell he lives for this and loves to do it every day. Everytime I see him I feel instantly happy! He’s definitely my favorite ever!\",\n          \"id\": \"993f950f-df99-48e7-bd1e-d95003cc98f1\",\n          \"likes\": 0,\n          \"timestamp\": 1542262984046\n        }]\n      };\n      axios.post('/videos', {\n        newNextVideo\n      }).then(res => {\n        console.log(res.data);\n        let heroVideoDetails = res.data;\n        let lastItem = heroVideoDetails[heroVideoDetails.length - 2];\n        lastItem.push(newNextVideo); // heroVideoDetails.splice(9, 0, newVideo);\n        // this.setState({\n        //     heroVideoDetails: res.data[0],\n        //     nextVideoDetails: res.data.slice(-1)[0]\n        // })\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get('/videos').then(res => {\n      console.log(res.data);\n      this.setState({\n        heroVideoDetails: [res.data[0]],\n        nextVideoList: res.data.slice(-1)[0]\n      });\n    }).catch(err => console.log(err));\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params.id !== this.props.match.params.id) {\n      this.updateHero(this.props.match.params.id);\n    }\n\n    ;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(HeroVideo, {\n      heroVideoDetails: this.state.heroVideoDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"main-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(HeroVideoDetails, {\n      heroVideoDetails: this.state.heroVideoDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(CommentsSection, {\n      commentsList: this.state.heroVideoDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(NextVideoQueue, {\n      heroVideoDetails: this.state.heroVideoDetails,\n      nextVideoList: this.state.nextVideoList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    })));\n  }\n\n}\n\n;\nexport default MainVideoPage;","map":{"version":3,"sources":["C:/Users/sandy/Documents/BrainStation - Web Development/Sandy-Nguyen-BrainFlix/Sandy-Nguyen-sprint-three/client/src/components/MainVideoPage/MainVideoPage.jsx"],"names":["React","axios","uuid","Header","HeroVideo","HeroVideoDetails","CommentsSection","NextVideoQueue","UploadImage","MainVideoPage","Component","state","heroVideoDetails","nextVideoList","updateHero","id","get","then","res","window","scrollTo","commentsForm","document","querySelector","reset","setState","data","catch","err","console","log","uploadVideo","e","preventDefault","time","Date","getTime","generatedId","v4","newNextVideo","title","target","value","channel","image","newVideo","description","views","likes","duration","video","timestamp","comments","post","lastItem","length","push","componentDidMount","slice","componentDidUpdate","prevProps","match","params","props","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport uuid from \"uuid\";\r\nimport Header from '../Header/Header';\r\nimport HeroVideo from '../HeroVideo/HeroVideo';\r\nimport HeroVideoDetails from '../HeroVideoDetails/HeroVideoDetails';\r\nimport CommentsSection from '../CommentsSection/CommentsSection';\r\nimport NextVideoQueue from '../NextVideoQueue/NextVideoQueue';\r\nimport UploadImage from \"../../assets/images/Upload-video-preview.jpg\";\r\n\r\nclass MainVideoPage extends React.Component {\r\n\r\n    state = {\r\n        heroVideoDetails: [],\r\n        nextVideoList: []\r\n      };\r\n    \r\n    componentDidMount() {\r\n        axios.get('/videos')\r\n        .then(res => {\r\n          console.log(res.data)\r\n          this.setState({\r\n              heroVideoDetails: [res.data[0]],\r\n              nextVideoList: res.data.slice(-1)[0]\r\n            });\r\n        })\r\n        .catch(err => console.log(err))\r\n      };\r\n\r\n    updateHero = (id) => {\r\n      axios.get(`/videos/${id}`)\r\n      .then(res => {  \r\n        window.scrollTo(0, 0);\r\n\r\n        let commentsForm = document.querySelector('.comments-section__form');\r\n        commentsForm.reset();\r\n        \r\n        this.setState({\r\n          heroVideoDetails: [res.data]\r\n        })\r\n      })\r\n      .catch(err => console.log(err));\r\n    };\r\n  \r\n    componentDidUpdate(prevProps) {\r\n\r\n      if (prevProps.match.params.id !== this.props.match.params.id) {\r\n        this.updateHero(this.props.match.params.id);\r\n      };\r\n    };\r\n\r\n    uploadVideo = (e) => {\r\n      e.preventDefault();\r\n      let time = new Date().getTime();\r\n\r\n      let generatedId = `${uuid.v4()}`\r\n\r\n      let newNextVideo = {\r\n          id: generatedId,\r\n          title: e.target.title.value,\r\n          channel: 'Some New Channel',\r\n          image: UploadImage\r\n      }\r\n      \r\n      let newVideo = {\r\n          id: generatedId,\r\n          title: e.target.title.value,\r\n          channel: 'Some New Channel',\r\n          image: UploadImage,\r\n          description: e.target.description.value,\r\n          views: 0,\r\n          likes: 0,\r\n          duration: \"3:45\",\r\n          video: '../../assets/video/BrainStation Sample Video.mp4',\r\n          timestamp: time,\r\n          comments: [\r\n              {\r\n                  \"name\": \"Micheal Lyons\",\r\n                  \"comment\": \"They BLEW the ROOF off at their last show, once everyone started figuring out they were going. This is still simply the greatest opening of acconcert I have EVER witnessed.\",\r\n                  \"id\": \"1ab6d9f6-da38-456e-9b09-ab0acd9ce818\",\r\n                  \"likes\": 0,\r\n                  \"timestamp\": 1545162149000\r\n              },\r\n              {\r\n                  \"name\": \"Gary Wong\",\r\n                  \"comment\": \"Every time I see him shred I feel so motivated to get off my couch and hop on my board. He’s so talented! I wish I can ride like him one day so I can really enjoy myself!\",\r\n                  \"id\": \"cc6f173d-9e9d-4501-918d-bc11f15a8e14\",\r\n                  \"likes\": 0,\r\n                  \"timestamp\": 1544595784046\r\n              },\r\n              {\r\n                  \"name\": \"Theodore Duncan\",\r\n                  \"comment\": \"How can someone be so good!!! You can tell he lives for this and loves to do it every day. Everytime I see him I feel instantly happy! He’s definitely my favorite ever!\",\r\n                  \"id\": \"993f950f-df99-48e7-bd1e-d95003cc98f1\",\r\n                  \"likes\": 0,\r\n                  \"timestamp\": 1542262984046\r\n              }\r\n          ]         \r\n      }\r\n  axios.post('/videos', {newNextVideo})\r\n  .then (res => {\r\n      console.log(res.data)\r\n\r\n      let heroVideoDetails = res.data;\r\n      let lastItem = heroVideoDetails[heroVideoDetails.length-2]\r\n      lastItem.push(newNextVideo)\r\n      // heroVideoDetails.splice(9, 0, newVideo);\r\n      \r\n      // this.setState({\r\n      //     heroVideoDetails: res.data[0],\r\n      //     nextVideoDetails: res.data.slice(-1)[0]\r\n      // })\r\n\r\n      })\r\n  }\r\n\r\n    render() {\r\n        return (\r\n          <>\r\n            <Header />\r\n            <HeroVideo heroVideoDetails={this.state.heroVideoDetails} />\r\n            <div className=\"section-container\">\r\n                <section className=\"main-section\">\r\n                    <HeroVideoDetails heroVideoDetails={this.state.heroVideoDetails} />\r\n                    <CommentsSection commentsList={this.state.heroVideoDetails} />\r\n                </section>\r\n                  <NextVideoQueue heroVideoDetails={this.state.heroVideoDetails} nextVideoList={this.state.nextVideoList} />\r\n            </div>              \r\n          </>\r\n        );\r\n    };\r\n};\r\n\r\nexport default MainVideoPage;"]},"metadata":{},"sourceType":"module"}