{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sandy\\\\Documents\\\\BrainStation - Web Development\\\\Sandy-Nguyen-BrainFlix\\\\Sandy-Nguyen-sprint-three\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport MainVideoPage from './components/MainVideoPage/MainVideoPage';\nimport Upload from './components/Upload/Upload';\nimport './App.css';\nimport axios from 'axios';\nimport uuid from \"uuid\";\nimport UploadImage from \"./assets/images/Upload-video-preview.jpg\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      heroVideoDetails: [],\n      nextVideoList: []\n    };\n\n    this.updateHero = id => {\n      window.scrollTo(0, 0);\n      let commentsForm = document.querySelector('.comments-section__form');\n      commentsForm.reset();\n      axios.get(`/videos/${id}`).then(res => {\n        this.setState({\n          heroVideoDetails: [res.data]\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.uploadVideo = e => {\n      e.preventDefault();\n      let time = new Date().getTime();\n      let generatedId = `${uuid.v4()}`;\n      let newNextVideo = {\n        id: generatedId,\n        title: e.target.title.value,\n        channel: 'Some New Channel',\n        image: UploadImage\n      };\n      let newVideo = {\n        id: generatedId,\n        title: e.target.title.value,\n        channel: 'Some New Channel',\n        image: UploadImage,\n        description: e.target.description.value,\n        views: 0,\n        likes: 0,\n        duration: \"3:45\",\n        video: '../../assets/video/BrainStation Sample Video.mp4',\n        timestamp: time,\n        comments: [{\n          \"name\": \"Micheal Lyons\",\n          \"comment\": \"They BLEW the ROOF off at their last show, once everyone started figuring out they were going. This is still simply the greatest opening of acconcert I have EVER witnessed.\",\n          \"id\": \"1ab6d9f6-da38-456e-9b09-ab0acd9ce818\",\n          \"likes\": 0,\n          \"timestamp\": 1545162149000\n        }, {\n          \"name\": \"Gary Wong\",\n          \"comment\": \"Every time I see him shred I feel so motivated to get off my couch and hop on my board. He’s so talented! I wish I can ride like him one day so I can really enjoy myself!\",\n          \"id\": \"cc6f173d-9e9d-4501-918d-bc11f15a8e14\",\n          \"likes\": 0,\n          \"timestamp\": 1544595784046\n        }, {\n          \"name\": \"Theodore Duncan\",\n          \"comment\": \"How can someone be so good!!! You can tell he lives for this and loves to do it every day. Everytime I see him I feel instantly happy! He’s definitely my favorite ever!\",\n          \"id\": \"993f950f-df99-48e7-bd1e-d95003cc98f1\",\n          \"likes\": 0,\n          \"timestamp\": 1542262984046\n        }]\n      };\n      axios.post('/videos', {\n        newVideo,\n        newNextVideo\n      }).then(res => {\n        console.log(res.data[0]);\n        let heroVideoDetails = res.data;\n        let lastItem = heroVideoDetails[heroVideoDetails.length - 2];\n        lastItem.push(newNextVideo);\n        heroVideoDetails.splice(9, 0, newVideo);\n        this.setState({\n          heroVideoDetails: res.data[0],\n          nextVideoDetails: res.data.slice(-1)[0]\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get('/videos').then(res => {\n      console.log(res.data);\n      this.setState({\n        heroVideoDetails: [res.data[0]],\n        nextVideoList: res.data.slice(-1)[0]\n      });\n    }).catch(err => console.log(err));\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params.id !== this.props.match.params.id) {\n      this.updateHero(this.props.match.params.id);\n    }\n\n    ;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(MainVideoPage, {\n        state: this.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 47\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/videos/:id\",\n      render: () => /*#__PURE__*/React.createElement(MainVideoPage, {\n        state: this.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 51\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/upload\",\n      render: () => /*#__PURE__*/React.createElement(Upload, {\n        uploadVideo: this.state.uploadVideo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 47\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/sandy/Documents/BrainStation - Web Development/Sandy-Nguyen-BrainFlix/Sandy-Nguyen-sprint-three/client/src/App.js"],"names":["React","Switch","Route","MainVideoPage","Upload","axios","uuid","UploadImage","App","Component","state","heroVideoDetails","nextVideoList","updateHero","id","window","scrollTo","commentsForm","document","querySelector","reset","get","then","res","setState","data","catch","err","console","log","uploadVideo","e","preventDefault","time","Date","getTime","generatedId","v4","newNextVideo","title","target","value","channel","image","newVideo","description","views","likes","duration","video","timestamp","comments","post","lastItem","length","push","splice","nextVideoDetails","slice","componentDidMount","componentDidUpdate","prevProps","match","params","props","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,kBAA9B;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,WAAP,MAAwB,0CAAxB;;AAEA,MAAMC,GAAN,SAAkBR,KAAK,CAACS,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAEhCC,KAFgC,GAExB;AACNC,MAAAA,gBAAgB,EAAE,EADZ;AAENC,MAAAA,aAAa,EAAE;AAFT,KAFwB;;AAAA,SAmBlCC,UAnBkC,GAmBpBC,EAAD,IAAQ;AACnBC,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,UAAIC,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,CAAnB;AACAF,MAAAA,YAAY,CAACG,KAAb;AAEAf,MAAAA,KAAK,CAACgB,GAAN,CAAW,WAAUP,EAAG,EAAxB,EACCQ,IADD,CACMC,GAAG,IAAI;AAEX,aAAKC,QAAL,CAAc;AACZb,UAAAA,gBAAgB,EAAE,CAACY,GAAG,CAACE,IAAL;AADN,SAAd;AAGD,OAND,EAOCC,KAPD,CAOOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPd;AAQD,KAhCiC;;AAAA,SAyClCG,WAzCkC,GAyCnBC,CAAD,IAAO;AACnBA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,IAAI,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAX;AAEA,UAAIC,WAAW,GAAI,GAAE9B,IAAI,CAAC+B,EAAL,EAAU,EAA/B;AAEA,UAAIC,YAAY,GAAG;AACfxB,QAAAA,EAAE,EAAEsB,WADW;AAEfG,QAAAA,KAAK,EAAER,CAAC,CAACS,MAAF,CAASD,KAAT,CAAeE,KAFP;AAGfC,QAAAA,OAAO,EAAE,kBAHM;AAIfC,QAAAA,KAAK,EAAEpC;AAJQ,OAAnB;AAOA,UAAIqC,QAAQ,GAAG;AACX9B,QAAAA,EAAE,EAAEsB,WADO;AAEXG,QAAAA,KAAK,EAAER,CAAC,CAACS,MAAF,CAASD,KAAT,CAAeE,KAFX;AAGXC,QAAAA,OAAO,EAAE,kBAHE;AAIXC,QAAAA,KAAK,EAAEpC,WAJI;AAKXsC,QAAAA,WAAW,EAAEd,CAAC,CAACS,MAAF,CAASK,WAAT,CAAqBJ,KALvB;AAMXK,QAAAA,KAAK,EAAE,CANI;AAOXC,QAAAA,KAAK,EAAE,CAPI;AAQXC,QAAAA,QAAQ,EAAE,MARC;AASXC,QAAAA,KAAK,EAAE,kDATI;AAUXC,QAAAA,SAAS,EAAEjB,IAVA;AAWXkB,QAAAA,QAAQ,EAAE,CACN;AACI,kBAAQ,eADZ;AAEI,qBAAW,8KAFf;AAGI,gBAAM,sCAHV;AAII,mBAAS,CAJb;AAKI,uBAAa;AALjB,SADM,EAQN;AACI,kBAAQ,WADZ;AAEI,qBAAW,4KAFf;AAGI,gBAAM,sCAHV;AAII,mBAAS,CAJb;AAKI,uBAAa;AALjB,SARM,EAeN;AACI,kBAAQ,iBADZ;AAEI,qBAAW,0KAFf;AAGI,gBAAM,sCAHV;AAII,mBAAS,CAJb;AAKI,uBAAa;AALjB,SAfM;AAXC,OAAf;AAoCF9C,MAAAA,KAAK,CAAC+C,IAAN,CAAW,SAAX,EAAsB;AAACR,QAAAA,QAAD;AAAWN,QAAAA;AAAX,OAAtB,EACChB,IADD,CACOC,GAAG,IAAI;AACZK,QAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACE,IAAJ,CAAS,CAAT,CAAZ;AAEA,YAAId,gBAAgB,GAAGY,GAAG,CAACE,IAA3B;AACA,YAAI4B,QAAQ,GAAG1C,gBAAgB,CAACA,gBAAgB,CAAC2C,MAAjB,GAAwB,CAAzB,CAA/B;AACAD,QAAAA,QAAQ,CAACE,IAAT,CAAcjB,YAAd;AACA3B,QAAAA,gBAAgB,CAAC6C,MAAjB,CAAwB,CAAxB,EAA2B,CAA3B,EAA8BZ,QAA9B;AAEA,aAAKpB,QAAL,CAAc;AACVb,UAAAA,gBAAgB,EAAEY,GAAG,CAACE,IAAJ,CAAS,CAAT,CADR;AAEVgC,UAAAA,gBAAgB,EAAElC,GAAG,CAACE,IAAJ,CAASiC,KAAT,CAAe,CAAC,CAAhB,EAAmB,CAAnB;AAFR,SAAd;AAID,OAbD;AAcC,KAxGiC;AAAA;;AAOlCC,EAAAA,iBAAiB,GAAG;AAChBtD,IAAAA,KAAK,CAACgB,GAAN,CAAU,SAAV,EACCC,IADD,CACMC,GAAG,IAAI;AACXK,MAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACE,IAAhB;AACA,WAAKD,QAAL,CAAc;AACVb,QAAAA,gBAAgB,EAAE,CAACY,GAAG,CAACE,IAAJ,CAAS,CAAT,CAAD,CADR;AAEVb,QAAAA,aAAa,EAAEW,GAAG,CAACE,IAAJ,CAASiC,KAAT,CAAe,CAAC,CAAhB,EAAmB,CAAnB;AAFL,OAAd;AAID,KAPD,EAQChC,KARD,CAQOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CARd;AASD;;AAiBHiC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAE5B,QAAIA,SAAS,CAACC,KAAV,CAAgBC,MAAhB,CAAuBjD,EAAvB,KAA8B,KAAKkD,KAAL,CAAWF,KAAX,CAAiBC,MAAjB,CAAwBjD,EAA1D,EAA8D;AAC5D,WAAKD,UAAL,CAAgB,KAAKmD,KAAL,CAAWF,KAAX,CAAiBC,MAAjB,CAAwBjD,EAAxC;AACD;;AAAA;AACF;;AAmECmD,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,GAAZ;AAAgB,MAAA,KAAK,MAArB;AAAsB,MAAA,MAAM,EAAE,mBAAM,oBAAC,aAAD;AAAe,QAAA,KAAK,EAAE,KAAKvD,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,aAAZ;AAA0B,MAAA,MAAM,EAAE,mBAAM,oBAAC,aAAD;AAAe,QAAA,KAAK,EAAE,KAAKA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAsB,MAAA,MAAM,EAAE,mBAAM,oBAAC,MAAD;AAAQ,QAAA,WAAW,EAAE,KAAKA,KAAL,CAAWoB,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADA,CADF;AASD;;AApH+B;;AAwHlC,eAAetB,GAAf","sourcesContent":["import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport MainVideoPage from './components/MainVideoPage/MainVideoPage';\r\nimport Upload from './components/Upload/Upload';\r\nimport './App.css';\r\nimport axios from 'axios';\r\nimport uuid from \"uuid\";\r\nimport UploadImage from \"./assets/images/Upload-video-preview.jpg\";\r\n\r\nclass App extends React.Component {\r\n\r\n  state = {\r\n    heroVideoDetails: [],\r\n    nextVideoList: []\r\n  };\r\n\r\ncomponentDidMount() {\r\n    axios.get('/videos')\r\n    .then(res => {\r\n      console.log(res.data)\r\n      this.setState({\r\n          heroVideoDetails: [res.data[0]],\r\n          nextVideoList: res.data.slice(-1)[0]\r\n        });\r\n    })\r\n    .catch(err => console.log(err))\r\n  };\r\n\r\nupdateHero = (id) => {\r\n  window.scrollTo(0, 0);\r\n  let commentsForm = document.querySelector('.comments-section__form');\r\n  commentsForm.reset();\r\n\r\n  axios.get(`/videos/${id}`)\r\n  .then(res => {  \r\n    \r\n    this.setState({\r\n      heroVideoDetails: [res.data]\r\n    })\r\n  })\r\n  .catch(err => console.log(err));\r\n};\r\n\r\ncomponentDidUpdate(prevProps) {\r\n\r\n  if (prevProps.match.params.id !== this.props.match.params.id) {\r\n    this.updateHero(this.props.match.params.id);\r\n  };\r\n};\r\n\r\nuploadVideo = (e) => {\r\n  e.preventDefault();\r\n  let time = new Date().getTime();\r\n\r\n  let generatedId = `${uuid.v4()}`\r\n\r\n  let newNextVideo = {\r\n      id: generatedId,\r\n      title: e.target.title.value,\r\n      channel: 'Some New Channel',\r\n      image: UploadImage\r\n  }\r\n  \r\n  let newVideo = {\r\n      id: generatedId,\r\n      title: e.target.title.value,\r\n      channel: 'Some New Channel',\r\n      image: UploadImage,\r\n      description: e.target.description.value,\r\n      views: 0,\r\n      likes: 0,\r\n      duration: \"3:45\",\r\n      video: '../../assets/video/BrainStation Sample Video.mp4',\r\n      timestamp: time,\r\n      comments: [\r\n          {\r\n              \"name\": \"Micheal Lyons\",\r\n              \"comment\": \"They BLEW the ROOF off at their last show, once everyone started figuring out they were going. This is still simply the greatest opening of acconcert I have EVER witnessed.\",\r\n              \"id\": \"1ab6d9f6-da38-456e-9b09-ab0acd9ce818\",\r\n              \"likes\": 0,\r\n              \"timestamp\": 1545162149000\r\n          },\r\n          {\r\n              \"name\": \"Gary Wong\",\r\n              \"comment\": \"Every time I see him shred I feel so motivated to get off my couch and hop on my board. He’s so talented! I wish I can ride like him one day so I can really enjoy myself!\",\r\n              \"id\": \"cc6f173d-9e9d-4501-918d-bc11f15a8e14\",\r\n              \"likes\": 0,\r\n              \"timestamp\": 1544595784046\r\n          },\r\n          {\r\n              \"name\": \"Theodore Duncan\",\r\n              \"comment\": \"How can someone be so good!!! You can tell he lives for this and loves to do it every day. Everytime I see him I feel instantly happy! He’s definitely my favorite ever!\",\r\n              \"id\": \"993f950f-df99-48e7-bd1e-d95003cc98f1\",\r\n              \"likes\": 0,\r\n              \"timestamp\": 1542262984046\r\n          }\r\n      ]         \r\n  }\r\n\r\naxios.post('/videos', {newVideo, newNextVideo})\r\n.then (res => {\r\n  console.log(res.data[0])\r\n\r\n  let heroVideoDetails = res.data;\r\n  let lastItem = heroVideoDetails[heroVideoDetails.length-2]\r\n  lastItem.push(newNextVideo)\r\n  heroVideoDetails.splice(9, 0, newVideo);\r\n  \r\n  this.setState({\r\n      heroVideoDetails: res.data[0],\r\n      nextVideoDetails: res.data.slice(-1)[0]\r\n  })\r\n})\r\n}\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">       \r\n      <Switch>\r\n          <Route path='/' exact render={() => <MainVideoPage state={this.state}/>} />\r\n          <Route path='/videos/:id' render={() => <MainVideoPage state={this.state}/>} />\r\n          <Route path='/upload' render={() => <Upload uploadVideo={this.state.uploadVideo}/>} />\r\n      </Switch>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}